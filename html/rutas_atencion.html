<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Shout It - Rutas de Atención</title>
  
    <!-- ESTILOS -->
    <link rel="stylesheet" href="../css/encabezado.css">
    <link rel="stylesheet" href="../css/rutas_atencion.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Ultra&display=swap" rel="stylesheet">
</head>

<body>

  <!-- HEADER -->
  <div id="header-container"></div>

  <!-- ENCABEZADO -->
  <div id="encabezado"></div>

  <!-- TÍTULO -->
  <div class="main-title">RUTAS DE ATENCIÓN</div>

  <!-- CUADRÍCULA DE ENTIDADES -->
  <div class="grid" id="grid-rutas-atencion">
    <!-- Elementos dinámicos se cargarán aquí desde la API -->
  </div>

  <!-- PIE DE PÁGINA -->
  <div id="footer-container"></div>

  <!-- SCRIPT -->
  <script>
    // Cargar header dinámico
    fetch('../html/header.html')
      .then(r => r.text())
      .then(data => document.getElementById('header-container').innerHTML = data);

    // Cargar footer dinámico
    fetch('../html/footer.html')
      .then(r => r.text())
      .then(data => document.getElementById('footer-container').innerHTML = data);

    // Cargar rutas de atención desde la API
    fetch('http://localhost:4000/api/rutas-atencion')
      .then(r => r.json())
      .then(data => {
          const grid = document.getElementById('grid-rutas-atencion');
          grid.innerHTML = '';

          data.forEach(item => {
              const divItem = document.createElement('div');
              divItem.classList.add('item');

              const a = document.createElement('a');
              a.href = "#"; // puedes reemplazar con la URL correspondiente

              const img = document.createElement('img');
              img.src = 'http://localhost:4000' + item.imagen; // ruta completa
              img.alt = item.nombre;

              const nombre = document.createElement('div');
              nombre.classList.add('card-text');
              nombre.textContent = item.nombre;

              a.appendChild(img);
              a.appendChild(nombre);
              divItem.appendChild(a);
              grid.appendChild(divItem);
          });
      })
      .catch(err => console.error('Error cargando rutas de atención:', err));
  </script>

</body>
</html>
