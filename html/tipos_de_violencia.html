<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Shout It - Tipos de Violencia</title>

    <!-- ESTILOS -->
    <link rel="stylesheet" href="../css/encabezado.css">
    <link rel="stylesheet" href="../css/tipos_de_violencia.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Ultra&display=swap" rel="stylesheet">
</head>
<body>

    <!-- HEADER -->
    <div id="header-container"></div>

    <!-- ENCABEZADO -->
    <div id="encabezado"></div>

    <!-- TÍTULO -->
    <div class="main-title">TIPOS DE VIOLENCIA</div>

    <!-- CUADRÍCULA DE VIOLENCIAS -->
    <div class="grid" id="grid-tipos-violencia"></div>

    <!-- PIE DE PÁGINA -->
    <div id="footer-container"></div>

    <!-- SCRIPTS -->
    <script>
        // Cargar header dinámico
        fetch('../html/header.html')
            .then(r => r.text())
            .then(data => document.getElementById('header-container').innerHTML = data);

        // Cargar footer dinámico
        fetch('../html/footer.html')
            .then(r => r.text())
            .then(data => document.getElementById('footer-container').innerHTML = data);

        // Cargar tipos de violencia desde la API
        fetch('http://localhost:4000/api/tipos-violencia')
            .then(r => r.json())
            .then(data => {
                const grid = document.getElementById('grid-tipos-violencia');
                grid.innerHTML = '';

                data.forEach(item => {
                    const divItem = document.createElement('div');
                    divItem.classList.add('item');

                    const img = document.createElement('img');
                    // 🔹 Aquí usamos la URL completa del servidor Node
                    img.src = 'http://localhost:4000' + item.imagen;
                    img.alt = item.nombre;

                    const hr = document.createElement('hr');

                    const nombre = document.createElement('div');
                    nombre.textContent = item.nombre;

                    divItem.appendChild(img);
                    divItem.appendChild(hr);
                    divItem.appendChild(nombre);

                    grid.appendChild(divItem);
                });
            })
            .catch(err => console.error('Error cargando tipos de violencia:', err));
    </script>

</body>
</html>
